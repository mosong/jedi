(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("82e7")},"0781":function(e,t,n){"use strict";n.r(t);var r=n("83d6"),i=r["a"].showSettings,a=r["a"].tagsView,o=r["a"].fixedHeader,c=r["a"].sidebarLogo,u=r["a"].theme,s={theme:u,showSettings:i,tagsView:a,fixedHeader:o,sidebarLogo:c},d={CHANGE_SETTING:function(e,t){var n=t.key,r=t.value;e.hasOwnProperty(n)&&(e[n]=r)}},f={changeSetting:function(e,t){var n=e.commit;n("CHANGE_SETTING",t)}};t["default"]={namespaced:!0,state:s,mutations:d,actions:f}},"0f9a":function(e,t,n){"use strict";n.r(t);var r=n("5f87"),i=(n("a18c"),n("4360"),{user:"",backgroundUrl:"",backgroundSmallUrl:"",todoItem:"",status:"",code:"",token:Object(r["a"])(),name:"",avatar:"",introduction:"",roles:[],setting:{articlePlatform:[]}}),a={SET_CODE:function(e,t){e.code=t},SET_TOKEN:function(e,t){e.token=t},SET_INTRODUCTION:function(e,t){e.introduction=t},SET_SETTING:function(e,t){e.setting=t},SET_STATUS:function(e,t){e.status=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLES:function(e,t){e.roles=t},SET_BACKGROUND_URL:function(e,t){e.backgroundUrl=t},SET_BACKGROUND_SMALL_URL:function(e,t){e.backgroundSmallUrl=t},SET_TODO_ITEM:function(e,t){e.todoItem=t}},o={setToken:function(e,t){var n=e.commit;n("SET_TOKEN",t),Object(r["c"])(t)},removeToken:function(e,t){var n=e.commit;n("SET_TOKEN",null),Object(r["b"])()},setBackGroundUrl:function(e,t){var n=e.commit,r="https://cdn.pixabay.com/photo/2016/07/02/12/21/eclipse-1492818_960_720.jpg",i="https://pic3.zhimg.com/80/v2-7157a6b809eb9a53b10344fa49d9485a_720w.jpg";t&&t.currentBackground&&t.currentSmallBackground&&(r=t.currentBackground,i=t.currentSmallBackground),n("SET_BACKGROUND_URL",r),n("SET_BACKGROUND_SMALL_URL",i),localStorage.setItem("currentBackground",r),localStorage.setItem("currentSmallBackground",i)},setTodoItem:function(e,t){var n=e.commit;n("SET_TODO_ITEM",t)}};t["default"]={namespaced:!0,state:i,mutations:a,actions:o}},"24ab":function(e,t,n){e.exports={theme:"#1890ff"}},"31c2":function(e,t,n){"use strict";n.r(t),n.d(t,"filterAsyncRoutes",(function(){return s}));n("ac67"),n("32ea");var r=n("46d3"),i=(n("1bc7"),n("a450"),n("a18c")),a=n("b775");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(t.name){for(var n in e)if(e[n]==t.name)return!0;return!1}return!0}function s(e,t){var n=[],r=[];return e.forEach((function(e){var i=c({},e);u(t,i)&&(i.children&&(i.children=s(i.children,t)),1==i.menu_level&&0==i.children.length?r.push(i):n.push(i))})),n}var d={routes:[],addRoutes:[],auto_gen_routers:!1},f={SET_ROUTES:function(e,t){e.addRoutes=t,e.routes=i["b"].concat(t)},AUTO_GEN_ROUTERS:function(e,t){e.auto_gen_routers=t}},l={generateRoutes:function(e,t){var n=e.commit;return new Promise((function(e){var t;Object(a["a"])({url:"/user/info",method:"post",data:{}}).then((function(r){var a=r.data;t=a.is_superuser?i["a"]:s(i["a"],a.userPerm),n("SET_ROUTES",t),n("AUTO_GEN_ROUTERS",!0),e(t)})).catch((function(e){}))}))},resetRouter:function(e,t){var n=e.commit;n("AUTO_GEN_ROUTERS",!1)}};t["default"]={namespaced:!0,state:d,mutations:f,actions:l}},4360:function(e,t,n){"use strict";n("8dee"),n("1bc7");var r=n("6e6d"),i=n("52c1"),a=(n("a450"),{sidebar:function(e){return e.app.sidebar},language:function(e){return e.app.language},size:function(e){return e.app.size},device:function(e){return e.app.device},visitedViews:function(e){return e.tagsView.visitedViews},cachedViews:function(e){return e.tagsView.cachedViews},token:function(e){return e.user.token},avatar:function(e){return e.user.avatar},backgroundUrl:function(e){return e.user.backgroundUrl},backgroundSmallUrl:function(e){return e.user.backgroundSmallUrl},todoItem:function(e){return e.user.todoItem},name:function(e){return e.user.name},introduction:function(e){return e.user.introduction},roles:function(e){return e.user.roles},current_post_id:function(e){return e.user.current_post_id},current_post_sample:function(e){return e.user.current_post_sample},current_post_sample_randomNum:function(e){return e.user.current_post_sample_randomNum},permission_routes:function(e){return e.permission.routes},addRoutes:function(e){return e.permission.addRoutes},auto_gen_routers:function(e){return e.permission.auto_gen_routers},errorLogs:function(e){return e.errorLog.logs}}),o=a;r["default"].use(i["a"]);var c=n("d307"),u=c.keys().reduce((function(e,t){var n=t.replace(/^\.\/(.*)\.\w+$/,"$1"),r=c(t);return e[n]=r.default,e}),{}),s=new i["a"].Store({modules:u,getters:o});t["a"]=s},"4d49":function(e,t,n){"use strict";n.r(t);var r={logs:[]},i={ADD_ERROR_LOG:function(e,t){e.logs.push(t)}},a={addErrorLog:function(e,t){var n=e.commit;n("ADD_ERROR_LOG",t)}};t["default"]={namespaced:!0,state:r,mutations:i,actions:a}},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"parseTime",(function(){return D})),n.d(r,"formatTime",(function(){return A})),n.d(r,"timeAgo",(function(){return I})),n.d(r,"numberFormatter",(function(){return L})),n.d(r,"toThousandFilter",(function(){return k}));n("3269"),n("8dee"),n("32ea"),n("1bc7"),n("eeee");var i=n("1b5a"),a=n.n(i),o=(n("25ba"),n("5f1c"),n("6ba0"),n("b47f"),n("6e6d")),c=(n("8c92"),n("aa93"),n("24ab"),n("b20f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),u=[],s={name:"App"},d=s,f=(n("034f"),n("4ac2")),l=Object(f["a"])(d,c,u,!1,null,null,null),m=l.exports,p=n("4360"),h=n("a18c"),g=(n("985d"),n("6a61"),n("99a5")),v=n("38bc"),b=n.n(v),E=(n("70e7"),n("5f87"));b.a.configure({showSpinner:!1});var w=["/","/user","/auth-redirect"];h["c"].beforeEach(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:b.a.start(),i=Object(E["a"])(),t.path&&window._hmt.push(["_trackPageview","/#"+t.fullPath]),i||-1!==w.indexOf(t.path)?r():(r("/user?redirect=".concat(t.path)),b.a.done());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),h["c"].afterEach((function(){b.a.done()}));n("aa18"),n("982e"),n("4057");function _(e){return"string"===typeof e||e instanceof String}function O(e){return"undefined"===typeof Array.isArray?"[object Array]"===Object.prototype.toString.call(e):Array.isArray(e)}var V=n("83d6"),S=V["a"].errorLog;function T(e){var t="production";return _(S)?t===S:!!O(S)&&S.includes(t)}T()&&(o["default"].config.errorHandler=function(e,t,n,r){o["default"].nextTick((function(){p["a"].dispatch("errorLog/addErrorLog",{err:e,vm:t,info:n,url:window.location.href}),console.error(e,n)}))});n("e680"),n("d0f2"),n("c5cb"),n("0c84"),n("2843"),n("fc02");var y=n("01d6");function D(e,t){if(0===arguments.length)return null;var n,r=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(y["a"])(e)?n=e:("string"===typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"===typeof e&&10===e.toString().length&&(e*=1e3),n=new Date(e));var i={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()},a=r.replace(/{(y|m|d|h|i|s|a)+}/g,(function(e,t){var n=i[t];return"a"===t?["日","一","二","三","四","五","六"][n]:(e.length>0&&n<10&&(n="0"+n),n||0)}));return a}function A(e,t){e=10===(""+e).length?1e3*parseInt(e):+e;var n=new Date(e),r=Date.now(),i=(r-n)/1e3;return i<30?"刚刚":i<3600?Math.ceil(i/60)+"分钟前":i<86400?Math.ceil(i/3600)+"小时前":i<172800?"1天前":t?D(e,t):n.getMonth()+1+"月"+n.getDate()+"日"+n.getHours()+"时"+n.getMinutes()+"分"}function j(e,t){return 1===e?e+t:e+t+"s"}function I(e){var t=Date.now()/1e3-Number(e);return t<3600?j(~~(t/60)," minute"):t<86400?j(~~(t/3600)," hour"):j(~~(t/86400)," day")}function L(e,t){for(var n=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],r=0;r<n.length;r++)if(e>=n[r].value)return(e/n[r].value+.1).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n[r].symbol;return e.toString()}function k(e){return(+e||0).toString().replace(/^-?\d+/g,(function(e){return e.replace(/(?=(?!\b)(\d{3})+$)/g,",")}))}var R=n("fb2b");o["default"].use(a.a,{}),Object.keys(r).forEach((function(e){o["default"].filter(e,r[e])})),o["default"].config.productionTip=!1,o["default"].use(R["a"]),new o["default"]({el:"#app",router:h["c"],store:p["a"],render:function(e){return e(m)}}),Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e}},"5f87":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o}));var r="Admin-Token";function i(){return localStorage.getItem(r)}function a(e){return localStorage.setItem(r,e)}function o(){return localStorage.removeItem(r)}},7509:function(e,t,n){"use strict";n.r(t);n("9f60"),n("94f0"),n("0c84"),n("2843"),n("4057");var r=n("190b"),i=n("07a3");n("1bc7"),n("a450"),n("aa18"),n("982e");function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={visitedViews:[],cachedViews:[]},s={ADD_VISITED_VIEW:function(e,t){e.visitedViews.some((function(e){return e.path===t.path}))||e.visitedViews.push(Object.assign({},t,{title:t.meta.title||"no-name"}))},ADD_CACHED_VIEW:function(e,t){e.cachedViews.includes(t.name)||t.meta.noCache||e.cachedViews.push(t.name)},DEL_VISITED_VIEW:function(e,t){var n,r=a(e.visitedViews.entries());try{for(r.s();!(n=r.n()).done;){var o=Object(i["a"])(n.value,2),c=o[0],u=o[1];if(u.path===t.path){e.visitedViews.splice(c,1);break}}}catch(s){r.e(s)}finally{r.f()}},DEL_CACHED_VIEW:function(e,t){var n,r=a(e.cachedViews);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i===t.name){var o=e.cachedViews.indexOf(i);e.cachedViews.splice(o,1);break}}}catch(c){r.e(c)}finally{r.f()}},DEL_OTHERS_VISITED_VIEWS:function(e,t){e.visitedViews=e.visitedViews.filter((function(e){return e.meta.affix||e.path===t.path}))},DEL_OTHERS_CACHED_VIEWS:function(e,t){var n,r=a(e.cachedViews);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i===t.name){var o=e.cachedViews.indexOf(i);e.cachedViews=e.cachedViews.slice(o,o+1);break}}}catch(c){r.e(c)}finally{r.f()}},DEL_ALL_VISITED_VIEWS:function(e){var t=e.visitedViews.filter((function(e){return e.meta.affix}));e.visitedViews=t},DEL_ALL_CACHED_VIEWS:function(e){e.cachedViews=[]},UPDATE_VISITED_VIEW:function(e,t){var n,r=a(e.visitedViews);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.path===t.path){i=Object.assign(i,t);break}}}catch(o){r.e(o)}finally{r.f()}}},d={addView:function(e,t){var n=e.dispatch;n("addVisitedView",t),n("addCachedView",t)},addVisitedView:function(e,t){var n=e.commit;n("ADD_VISITED_VIEW",t)},addCachedView:function(e,t){var n=e.commit;n("ADD_CACHED_VIEW",t)},delView:function(e,t){var n=e.dispatch,i=e.state;return new Promise((function(e){n("delVisitedView",t),n("delCachedView",t),e({visitedViews:Object(r["a"])(i.visitedViews),cachedViews:Object(r["a"])(i.cachedViews)})}))},delVisitedView:function(e,t){var n=e.commit,i=e.state;return new Promise((function(e){n("DEL_VISITED_VIEW",t),e(Object(r["a"])(i.visitedViews))}))},delCachedView:function(e,t){var n=e.commit,i=e.state;return new Promise((function(e){n("DEL_CACHED_VIEW",t),e(Object(r["a"])(i.cachedViews))}))},delOthersViews:function(e,t){var n=e.dispatch,i=e.state;return new Promise((function(e){n("delOthersVisitedViews",t),n("delOthersCachedViews",t),e({visitedViews:Object(r["a"])(i.visitedViews),cachedViews:Object(r["a"])(i.cachedViews)})}))},delOthersVisitedViews:function(e,t){var n=e.commit,i=e.state;return new Promise((function(e){n("DEL_OTHERS_VISITED_VIEWS",t),e(Object(r["a"])(i.visitedViews))}))},delOthersCachedViews:function(e,t){var n=e.commit,i=e.state;return new Promise((function(e){n("DEL_OTHERS_CACHED_VIEWS",t),e(Object(r["a"])(i.cachedViews))}))},delAllViews:function(e,t){var n=e.dispatch,i=e.state;return new Promise((function(e){n("delAllVisitedViews",t),n("delAllCachedViews",t),e({visitedViews:Object(r["a"])(i.visitedViews),cachedViews:Object(r["a"])(i.cachedViews)})}))},delAllVisitedViews:function(e){var t=e.commit,n=e.state;return new Promise((function(e){t("DEL_ALL_VISITED_VIEWS"),e(Object(r["a"])(n.visitedViews))}))},delAllCachedViews:function(e){var t=e.commit,n=e.state;return new Promise((function(e){t("DEL_ALL_CACHED_VIEWS"),e(Object(r["a"])(n.cachedViews))}))},updateVisitedView:function(e,t){var n=e.commit;n("UPDATE_VISITED_VIEW",t)}};t["default"]={namespaced:!0,state:u,mutations:s,actions:d}},"82e7":function(e,t,n){},"83d6":function(e,t,n){"use strict";t["a"]={showSettings:!0,tagsView:!0,fixedHeader:!1,sidebarLogo:!1,errorLog:"production"}},"985d":function(e,t){},a18c:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n("6e6d"),i=n("081a");r["default"].use(i["a"]);var a=[{path:"",component:function(){return n.e("chunk-4fca19de").then(n.bind(null,"37f9"))},hidden:!0},{path:"/user",component:function(){return n.e("chunk-730cc807").then(n.bind(null,"e382"))},hidden:!0},{path:"/collect",component:function(){return n.e("chunk-0d595d0c").then(n.bind(null,"3ae0"))},hidden:!0}],o=[{path:"*",redirect:"/",hidden:!0}],c=function(){return new i["a"]({scrollBehavior:function(){return{y:0}},mode:"history",routes:a})},u=c();t["c"]=u},b20f:function(e,t,n){e.exports={menuText:"#bfcbd9",menuActiveText:"#409EFF",subMenuActiveText:"#f4f4f5",menuBg:"#000",menuHover:"#263445",subMenuBg:"#1f2d3d",subMenuHover:"#001528",sideBarWidth:"180px"}},b775:function(e,t,n){"use strict";var r=n("06f5"),i=n.n(r),a=n("7f43"),o=n.n(a),c=n("4360"),u=n("5f87"),s=n("a18c"),d=o.a.create({baseURL:"https://sback.h7r.cn/",withCredentials:!1});d.interceptors.request.use((function(e){return c["a"].getters.token&&(e.headers["Authorization"]="JWT "+Object(u["a"])()),e}),(function(e){return console.log(e),Promise.reject(e)})),d.interceptors.response.use((function(e){var t=e.data;return"4001"===t.code?(c["a"].dispatch("user/removeToken"),s["c"].push({path:"/user"}),Promise.reject("请重新登录")):t}),(function(e){return console.log(e),403==e.response.status||404==e.response.status?s["c"].push({path:"/"}):401==e.response.status?(Object(u["b"])(),location.reload()):i()({message:"发生系统异常"+e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=d},d307:function(e,t,n){var r={"./app.js":"d9cd","./errorLog.js":"4d49","./permission.js":"31c2","./settings.js":"0781","./tagsView.js":"7509","./user.js":"0f9a"};function i(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id="d307"},d9cd:function(e,t,n){"use strict";n.r(t);var r=n("8c92"),i=n.n(r),a=(n("ac67"),n("1bc7"),n("32ea"),n("46d3")),o=n("6e6d"),c=n("a94a"),u=n("39c3"),s=n.n(u);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}o["default"].use(c["a"]);var l={zh:f({},s.a)};function m(){var e=i.a.get("language");if(e)return e;for(var t=(navigator.language||navigator.browserLanguage).toLowerCase(),n=Object.keys(l),r=0,a=n;r<a.length;r++){var o=a[r];if(t.indexOf(o)>-1)return o}return"en"}new c["a"]({locale:m(),messages:l});var p={sidebar:{opened:!i.a.get("sidebarStatus")||!!+i.a.get("sidebarStatus"),withoutAnimation:!1},device:"desktop",language:m(),size:i.a.get("size")||"mini"},h={TOGGLE_SIDEBAR:function(e){e.sidebar.opened=!e.sidebar.opened,e.sidebar.withoutAnimation=!1,e.sidebar.opened?i.a.set("sidebarStatus",1):i.a.set("sidebarStatus",0)},CLOSE_SIDEBAR:function(e,t){i.a.set("sidebarStatus",0),e.sidebar.opened=!1,e.sidebar.withoutAnimation=t},TOGGLE_DEVICE:function(e,t){e.device=t},SET_LANGUAGE:function(e,t){e.language=t,i.a.set("language",t)},SET_SIZE:function(e,t){e.size=t,i.a.set("size",t)}},g={toggleSideBar:function(e){var t=e.commit;t("TOGGLE_SIDEBAR")},closeSideBar:function(e,t){var n=e.commit,r=t.withoutAnimation;n("CLOSE_SIDEBAR",r)},toggleDevice:function(e,t){var n=e.commit;n("TOGGLE_DEVICE",t)},setLanguage:function(e,t){var n=e.commit;n("SET_LANGUAGE",t)},setSize:function(e,t){var n=e.commit;n("SET_SIZE",t)}};t["default"]={namespaced:!0,state:p,mutations:h,actions:g}}},[[0,"runtime","chunk-elementUI","chunk-libs"]]]);