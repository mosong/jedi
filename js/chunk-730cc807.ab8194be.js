(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-730cc807"],{"0f8e":function(e,r,t){"use strict";t.d(r,"e",(function(){return o})),t.d(r,"d",(function(){return n})),t.d(r,"a",(function(){return l})),t.d(r,"b",(function(){return i})),t.d(r,"c",(function(){return a}));var s=t("7686");function o(e,r,t,o,n){Object(s["a"])(e,"/user/register","post",r,t,o,n)}function n(e,r,t,o,n){Object(s["a"])(e,"/user/login","post",r,t,o,n)}function l(e,r,t,o,n){Object(s["a"])(e,"/user/fetchAllConfig","post",r,t,o,n)}function i(e,r,t,o,n){Object(s["a"])(e,"/user/saveSearchConfig","post",r,t,o,n)}function a(e,r,t,o,n){Object(s["a"])(e,"/user/saveSettingConfig","post",r,t,o,n)}},"253f":function(e,r,t){"use strict";var s={required:!0,message:"必填",trigger:"blur"},o={type:"number",message:"必须为数字",trigger:"blur"},n={V_REQUIRED:s,V_NUMBER:o};r["a"]=n},7686:function(e,r,t){"use strict";t.d(r,"a",(function(){return o}));var s=t("b775");function o(e,r,t,o,n,l,i){i&&(e.loading=!0),Object(s["a"])({url:r,method:t,data:o}).then((function(r){i&&(e.loading=!1),n(r,e)})).catch((function(r){console.log(r),i&&(e.loading=!1),l(r,e)}))}},e382:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("UserLoginAndRegister",{attrs:{"show-login-and-register":e.showLoginAndRegister},on:{dialogClose:e.loginAndRegisterDialogClose}})},o=[],n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-dialog",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],attrs:{visible:e.showLoginAndRegisterDialog,center:"","close-on-click-modal":!1,"close-on-press-escape":!1,fullscreen:!0,width:"90%"},on:{"update:visible":function(r){e.showLoginAndRegisterDialog=r},closed:e.closeDialog}},[t("span",{staticClass:"dialog-body",staticStyle:{"text-align":"center"}},[t("el-form",{directives:[{name:"show",rawName:"v-show",value:e.token,expression:"token"}],ref:"loginObj"},[t("el-form-item",{attrs:{label:""}},[t("Strong",{staticStyle:{"font-size":"30px"}},[e._v("欢迎使用h7r.cn")]),e._v(" "),t("br"),e._v(" "),t("span",{staticStyle:{color:"grey"}},[e._v("已经登录")])],1),e._v(" "),t("el-row",[t("el-col",{attrs:{xs:1,sm:1,md:7,lg:7}},[e._v(" ")]),e._v(" "),t("el-col",{attrs:{xs:22,sm:22,md:10,lg:10}},[t("el-form-item",{attrs:{label:"",prop:"userName"}},[t("el-button",{attrs:{type:"danger"},on:{click:e.loginOut}},[e._v("注销")])],1)],1),e._v(" "),t("el-col",{attrs:{xs:1,sm:1,md:7,lg:7}},[e._v(" ")])],1)],1),e._v(" "),t("el-form",{directives:[{name:"show",rawName:"v-show",value:1===e.mode&&!e.token,expression:"mode===1&&!token"}],ref:"loginObj",attrs:{model:e.loginObj,rules:e.login_rules}},[t("el-form-item",{attrs:{label:""}},[t("Strong",{staticStyle:{"font-size":"30px"}},[e._v("欢迎使用h7r.cn")]),e._v(" "),t("br"),e._v(" "),t("span",{staticStyle:{color:"grey"}},[e._v("登录你的h7r.cn账号,数据备份到云端")])],1),e._v(" "),t("el-row",[t("el-col",{attrs:{xs:1,sm:1,md:7,lg:7}},[e._v(" ")]),e._v(" "),t("el-col",{attrs:{xs:22,sm:22,md:10,lg:10}},[t("el-form-item",{attrs:{label:"",prop:"userName"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.loginObj.userName,callback:function(r){e.$set(e.loginObj,"userName",r)},expression:"loginObj.userName"}})],1)],1),e._v(" "),t("el-col",{attrs:{xs:1,sm:1,md:7,lg:7}},[e._v(" ")])],1),e._v(" "),t("el-row",[t("el-col",{attrs:{xs:1,sm:1,md:7,lg:7}},[e._v(" ")]),e._v(" "),t("el-col",{attrs:{xs:22,sm:22,md:10,lg:10}},[t("el-form-item",{attrs:{label:"",prop:"passWord"}},[t("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.loginObj.passWord,callback:function(r){e.$set(e.loginObj,"passWord",r)},expression:"loginObj.passWord"}})],1)],1),e._v(" "),t("el-col",{attrs:{xs:1,sm:1,md:7,lg:7}},[e._v(" ")])],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"danger"},on:{click:e.userLogin}},[e._v("登        录")])],1),e._v(" "),t("el-form-item",{attrs:{label:""}},[t("el-link",{attrs:{disabled:""}},[e._v(" 还没有账号？")]),e._v(" "),t("el-link",{attrs:{underline:!1,type:"success"},on:{click:function(r){e.mode=2}}},[e._v("注册")])],1)],1),e._v(" "),t("el-form",{directives:[{name:"show",rawName:"v-show",value:2===e.mode&&!e.token,expression:"mode===2&&!token"}],ref:"registerObj",attrs:{model:e.registerObj,rules:e.register_rules}},[t("el-form-item",{attrs:{label:""}},[t("Strong",{staticStyle:{"font-size":"30px"}},[e._v("注册")]),e._v(" "),t("br"),e._v(" "),t("span",{staticStyle:{color:"grey"}},[e._v("注册h7r.cn账号,将你的数据备份到云端")])],1),e._v(" "),t("el-row",[t("el-col",{attrs:{xs:1,sm:1,md:7,lg:7}},[e._v(" ")]),e._v(" "),t("el-col",{attrs:{xs:22,sm:22,md:10,lg:10}},[t("el-form-item",{attrs:{label:"",prop:"userName"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.registerObj.userName,callback:function(r){e.$set(e.registerObj,"userName",r)},expression:"registerObj.userName"}})],1)],1),e._v(" "),t("el-col",{attrs:{xs:1,sm:1,md:7,lg:7}},[e._v(" ")])],1),e._v(" "),t("el-row",[t("el-col",{attrs:{xs:1,sm:1,md:7,lg:7}},[e._v(" ")]),e._v(" "),t("el-col",{attrs:{xs:22,sm:22,md:10,lg:10}},[t("el-form-item",{attrs:{label:"",prop:"passWord"}},[t("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.registerObj.passWord,callback:function(r){e.$set(e.registerObj,"passWord",r)},expression:"registerObj.passWord"}})],1)],1),e._v(" "),t("el-col",{attrs:{xs:1,sm:1,md:7,lg:7}},[e._v(" ")])],1),e._v(" "),t("el-row",[t("el-col",{attrs:{xs:1,sm:1,md:7,lg:7}},[e._v(" ")]),e._v(" "),t("el-col",{attrs:{xs:22,sm:22,md:10,lg:10}},[t("el-form-item",{attrs:{label:"",prop:"passWordConfirm"}},[t("el-input",{attrs:{placeholder:"请确认密码","show-password":""},model:{value:e.registerObj.passWordConfirm,callback:function(r){e.$set(e.registerObj,"passWordConfirm",r)},expression:"registerObj.passWordConfirm"}})],1)],1),e._v(" "),t("el-col",{attrs:{xs:1,sm:1,md:7,lg:7}},[e._v(" ")])],1),e._v(" "),t("el-row",[t("el-col",{attrs:{xs:1,sm:1,md:7,lg:7}},[e._v(" ")]),e._v(" "),t("el-col",{attrs:{xs:22,sm:22,md:10,lg:10}},[t("el-form-item",{attrs:{label:"",prop:"registrationCode"}},[t("el-input",{attrs:{placeholder:"请输入注册码"},model:{value:e.registerObj.registrationCode,callback:function(r){e.$set(e.registerObj,"registrationCode",r)},expression:"registerObj.registrationCode"}})],1)],1),e._v(" "),t("el-col",{attrs:{xs:1,sm:1,md:7,lg:7}},[e._v(" ")])],1),e._v(" "),t("p",[e._v("扫码关注微信号`"),t("Strong",[e._v("h7rcn")]),e._v("`回复`"),t("Strong",[e._v("注册")]),e._v("`获得注册码")],1),e._v(" "),t("el-image",{staticStyle:{width:"200px",height:"200px"},attrs:{src:"https://cdn.jsdelivr.net/gh/mosong/PhotoWarehouse/blog/qrcode_for_gh_c49c329deb62_258.jpg"}}),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"danger"},on:{click:e.userRegister}},[e._v("注        册")])],1),e._v(" "),t("el-form-item",{attrs:{label:""}},[t("el-link",{attrs:{disabled:""}},[e._v(" 已有账号？")]),e._v(" "),t("el-link",{attrs:{underline:!1,type:"success"},on:{click:function(r){e.mode=1}}},[e._v("返回登录")])],1)],1)],1)])},l=[],i=(t("ac67"),t("1bc7"),t("32ea"),t("d0f2"),t("3269"),t("46d3")),a=t("52c1"),c=t("0f8e"),g=t("253f"),u=t("4360");function d(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function m(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?d(Object(t),!0).forEach((function(r){Object(i["a"])(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var p=g["a"].V_REQUIRED,v=(g["a"].V_NUMBER,{name:"UserLoginAndRegister",props:{showLoginAndRegister:{type:Boolean,required:!0}},computed:m(m({},Object(a["b"])(["device","token"])),{},{inputWidth:function(){return("mobile"!==this.device?"40":"100")+"%"}}),data:function(){var e=this,r=function(r,t,s){null==t||""===t?s(new Error("请输入密码")):(e.checkDataPattern(t)||s(new Error("需包含数字和字母，长度在6~16位")),s())},t=function(r,t,s){null==t||""===t?s(new Error("请输入密码")):(e.checkDataPattern(t)||s(new Error("需包含数字和字母，长度在6~16位")),""!==e.registerObj.passWordConfirm&&e.$refs.registerObj.validateField("passWordConfirm"),s())},s=function(r,t,s){null==t||""===t?s(new Error("请再次输入密码")):t!==e.registerObj.passWord?s(new Error("两次输入密码不一致!")):s()};return{loading:!1,showLoginAndRegisterDialog:!0,mode:1,registerObj:{},register_rules:{userName:[p],passWord:{validator:t,trigger:"blur"},passWordConfirm:{validator:s,trigger:"blur"},registrationCode:[p]},loginObj:{userName:"",passWord:""},login_rules:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"blur"}],passWord:{validator:r,trigger:"blur"}}}},watch:{},methods:{loginOut:function(){u["a"].dispatch("user/removeToken"),this.mode=1},checkDataPattern:function(e){var r="^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$",t=new RegExp(r),s=e.match(t);return null!=s&&s[0]==e},userRegister:function(){var e=this;this.$refs["registerObj"].validate((function(r){if(!r)return e.$message.error("请根据提示填写参数"),!1;var t=function(e,r){"0"===e.code?(r.registerObj={},r.mode=1,r.$message({message:"注册成功！！！",type:"success"})):r.$message.error(e.message)};Object(c["e"])(e,e.registerObj,t,(function(){}),!0)}))},userLogin:function(){var e=this;this.$refs["loginObj"].validate((function(r){if(!r)return e.$message.error("请根据提示填写参数"),!1;var t=function(e,r){if("0"===e.code){r.loginObj={},r.$message({message:"登录成功！！！",type:"success"});var t=e.result.token;u["a"].dispatch("user/setToken",t),r.$router.push({path:"/"})}else r.$message.error(e.message)};Object(c["d"])(e,e.loginObj,t,(function(){}),!0)}))},closeDialog:function(){this.$emit("dialogClose")}}}),f=v,b=t("4ac2"),_=Object(b["a"])(f,n,l,!1,null,"7b6efd71",null),h=_.exports,O={name:"RegisterOrLogin",components:{UserLoginAndRegister:h},data:function(){return{showLoginAndRegister:!1}},methods:{loginAndRegisterDialogClose:function(){this.$router.push({path:"/"})}}},j=O,w=Object(b["a"])(j,s,o,!1,null,"9210e9f8",null);r["default"]=w.exports}}]);